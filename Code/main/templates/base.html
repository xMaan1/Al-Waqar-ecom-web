{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>Al Waqar - Gents Unstitched Clothing</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" type="text/css" href="{% static 'fontawesome-free/css/all.min.css' %}" />
	<!-- Bootstrap 4 CSS -->
	<link rel="stylesheet" type="text/css" href="{% static 'bs4/bootstrap.min.css' %}" />
	<!-- Premium Theme CSS -->
	<link rel="stylesheet" type="text/css" href="{% static 'custom_premium.css' %}" />
	<!-- Main Jquery -->
	<script type="text/javascript" src="{% static 'jquery.min.js' %}"></script>
	<!-- Bootstrap 4 JS -->
	<script type="text/javascript" src="{% static 'bs4/bootstrap.min.js' %}"></script>
	<!-- CustomJs -->
	<script type="text/javascript" src="{% static 'custom.js' %}"></script>
	<!-- Premium JS -->
	<script type="text/javascript" src="{% static 'premium.js' %}"></script>
	<!-- Added animation library -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
	<style>
		p, .text-white {
			color: white !important;
		}
		.cart-link {
			background-color: #d4af37;
			color: #000 !important;
			padding: 8px 15px !important;
			border-radius: 30px;
			font-weight: bold;
			transition: all 0.3s ease;
			position: relative;
		}
		.cart-link:hover {
			background-color: #fff;
			color: #000 !important;
		}
		.cart-count {
			background-color: #fff;
			color: #000;
			border-radius: 50%;
			padding: 2px 6px;
			font-size: 12px;
			margin-left: 5px;
			position: absolute;
			top: -8px;
			right: -8px;
			font-weight: bold;
			border: 1px solid #d4af37;
		}
		.search-form {
			display: flex;
			align-items: center;
		}
		.search-form .form-control {
			height: 38px;
			border-right: none;
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
		.search-form .btn {
			height: 38px;
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		.btn-gold {
			background-color: #d4af37;
			color: #000;
			font-weight: 500;
		}
		.btn-gold:hover {
			background-color: #c19e2f;
			color: #000;
		}
		.card-footer .btn-gold {
			padding: 6px 12px;
			border-radius: 4px;
		}
		.card-body p {
			color: #333 !important;
		}
		.card-body h5, .card-body h6 {
			color: #333 !important;
		}
		/* List group items in filter sections */
		.list-group-item .text-white {
			color: #333 !important;
		}
		/* Make table text white */
		.table.text-white th,
		.table.text-white td {
			color: white !important;
		}
		/* Fixed form label colors */
		.form-check-label {
			color: #000 !important;
		}
		.form-label {
			color: #000 !important;
		}
		/* Fix any other label issues */
		label {
			color: #000 !important;
		}
		
		/* Fix table text color in forms */
		.table td, .table th {
			color: #000;
		}
		
		/* Keep white text in specific areas */
		.text-white {
			color: #fff !important;
		}
	</style>
</head>
<body>
	<nav class="navbar navbar-expand-lg">
		<div class="container">
		  <a class="navbar-brand animate__animated animate__fadeIn" href="/">Al Waqar</a>
		  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
		    <span class="navbar-toggler-icon"></span>
		  </button>
		  <div class="collapse navbar-collapse" id="navbarNav">
		  	<form class="form-inline my-2 my-lg-0 animate__animated animate__fadeIn search-form" action="/search">
		      <div class="input-group">
				  <input name="q" type="text" class="form-control" placeholder="Search for products..." />
				  <div class="input-group-append">
				    <button class="btn btn-gold" type="submit" id="button-addon2">
				      <i class="fas fa-search"></i>
				    </button>
				  </div>
				</div>
		    </form>
		    <ul class="navbar-nav ml-auto">
		      <li class="nav-item">
		        <a class="nav-link" href="/">Home</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="{% url 'category-list' %}">Categories</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="{% url 'product-list' %}">Products</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="{% url 'brand-list' %}">Brands</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link cart-link" href="{% url 'cart' %}">
		          <i class="fa fa-shopping-cart"></i> Cart 
		          <span class="cart-count cart-list">{{request.session.cartdata|length}}</span>
		        </a>
		      </li>
		      <li class="nav-item dropdown">
		        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		          <i class="fa fa-user"></i> My Account
		        </a>
		        <div class="dropdown-menu dropdown-menu-right animate__animated animate__fadeIn" aria-labelledby="navbarDropdown">
		        {% if user.is_authenticated %}
		        	<a class="dropdown-item" href="{% url 'my_dashboard' %}">
		        	  <i class="fas fa-tachometer-alt mr-2"></i>Dashboard
		        	</a>
		        	<a class="dropdown-item" href="{% url 'my-orders' %}">
		        	  <i class="fas fa-box mr-2"></i>Orders
		        	</a>
		        	<a class="dropdown-item" href="{% url 'my-addressbook' %}">
		        	  <i class="fas fa-address-book mr-2"></i>Addresses
		        	</a>
		        	<div class="dropdown-divider"></div>
		        	<a class="dropdown-item" href="{% url 'logout' %}">
		        	  <i class="fas fa-sign-out-alt mr-2"></i>Logout
		        	</a>
	        	{% else %}
	        		<a class="dropdown-item" href="{% url 'login' %}">
	        		  <i class="fas fa-sign-in-alt mr-2"></i>Login
	        		</a>
		          <a class="dropdown-item" href="{% url 'signup' %}">
		            <i class="fas fa-user-plus mr-2"></i>Signup
		          </a>
		        {% endif %}
		        </div>
		      </li>
		    </ul>
		  </div>
		</div>
    </nav>
    
    <div class="main-content fade-in">
      {% block content %}
      {% endblock %}
    </div>

    <footer>
      <div class="container">
        <div class="row">
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h4>Al Waqar</h4>
            <p class="text-white">Your destination for premium gents unstitched clothing.</p>
            <div class="social-icons">
              <a href="#"><i class="fab fa-facebook-f"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-linkedin-in"></i></a>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h4>Categories</h4>
            <ul>
              {% for category in categories %}
              <li><a href="{% url 'category-product-list' category.id %}">{{category.title}}</a></li>
              {% endfor %}
            </ul>
          </div>
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h4>Quick Links</h4>
            <ul>
              <li><a href="/">Home</a></li>
              <li><a href="{% url 'product-list' %}">Shop</a></li>
              <li><a href="{% url 'category-list' %}">Categories</a></li>
              <li><a href="{% url 'brand-list' %}">Brands</a></li>
              <li><a href="{% url 'cart' %}">Cart</a></li>
            </ul>
          </div>
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h4>Contact Us</h4>
            <ul>
              <li><i class="fas fa-map-marker-alt mr-2"></i> 123 Street, City, Country</li>
              <li><i class="fas fa-phone mr-2"></i> +1 234 567 890</li>
              <li><i class="fas fa-envelope mr-2"></i> info@alwaqar.com</li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom text-center">
          <p class="text-white">&copy; {% now "Y" %} Al Waqar. All Rights Reserved.</p>
        </div>
      </div>
    </footer>

    <!-- Toast Notification Container -->
    <div id="toast-container"></div>

    <!-- Additional JavaScript for animations and effects -->
    <script>
      $(document).ready(function() {
        // Add animation classes to elements when they appear in viewport
        function animateElements() {
          $('.product-card, .card, .banner').each(function() {
            var element = $(this);
            if (element.visible(true)) {
              element.addClass('fade-in');
            }
          });
        }
        
        // Function to check if element is visible in viewport
        $.fn.visible = function(partial) {
          var $t = $(this),
              $w = $(window),
              viewTop = $w.scrollTop(),
              viewBottom = viewTop + $w.height(),
              _top = $t.offset().top,
              _bottom = _top + $t.height(),
              compareTop = partial === true ? _bottom : _top,
              compareBottom = partial === true ? _top : _bottom;
          
          return ((compareBottom <= viewBottom) && (compareTop >= viewTop));
        };
        
        // Run on page load
        animateElements();
        
        // Run on scroll
        $(window).scroll(function() {
          animateElements();
        });
        
        // Add smooth scroll behavior
        $('a[href*="#"]:not([href="#"])').click(function() {
          if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
            var target = $(this.hash);
            target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
            if (target.length) {
              $('html, body').animate({
                scrollTop: target.offset().top - 100
              }, 800);
              return false;
            }
          }
        });
      });
    </script>
    {% block scripts %}
    {% endblock %}
</body>
</html>